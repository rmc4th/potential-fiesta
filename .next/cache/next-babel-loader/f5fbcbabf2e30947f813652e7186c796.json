{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rodney\\\\mitXPro\\\\MERN2021-01\\\\w28\\\\28.9_G-Ql\\\\components\\\\checkoutForm.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useContext } from \"react\";\nimport { FormGroup, Label, Input } from \"reactstrap\";\nimport fetch from \"isomorphic-fetch\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport CardSection from \"./cardSection\";\nimport AppContext from \"./context\";\nimport Cookies from \"js-cookie\";\n\nfunction CheckoutForm() {\n  const {\n    0: data,\n    1: setData\n  } = useState({\n    address: \"\",\n    city: \"\",\n    state: \"\",\n    stripe_id: \"\"\n  });\n  const {\n    0: error,\n    1: setError\n  } = useState(\"\");\n  const stripe = useStripe();\n  const elements = useElements();\n  const appContext = useContext(AppContext);\n\n  function onChange(e) {\n    // set the key = to the name property equal to the value typed\n    const updateItem = data[e.target.name] = e.target.value; // update the state data object\n\n    setData(_objectSpread(_objectSpread({}, data), {}, {\n      updateItem\n    }));\n  }\n\n  async function submitOrder() {\n    // event.preventDefault();\n    // // Use elements.getElement to get a reference to the mounted Element.\n    const cardElement = elements.getElement(CardElement); // // Pass the Element directly to other Stripe.js methods:\n    // // e.g. createToken - https://stripe.com/docs/js/tokens_sources/create_token?type=cardElement\n    // get token back from stripe to process credit card\n\n    const API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:1337\";\n    const token = await stripe.createToken(cardElement);\n    console.log(\"checkoutForm>submitOrder()> token: \", token);\n    const userToken = Cookies.get(\"token\");\n    console.log(\"checkoutForm>submitOrder()> userToken: \", userToken);\n    console.log(\"checkoutForm>submitOrder()> body: \", JSON.stringify({\n      amount: Number(Math.round(appContext.cart.total + \"e2\") + \"e-2\"),\n      dishes: appContext.cart.items,\n      address: data.address,\n      city: data.city,\n      state: data.state,\n      token: token.token.id\n    }));\n    const response = await fetch(`${API_URL}/orders`, {\n      method: \"POST\",\n      headers: userToken && {\n        Authorization: `Bearer ${userToken}`\n      },\n      body: JSON.stringify({\n        amount: Number(Math.round(appContext.cart.total + \"e2\") + \"e-2\"),\n        dishes: appContext.cart.items,\n        address: data.address,\n        city: data.city,\n        state: data.state,\n        token: token.token.id\n      })\n    });\n    console.log(\"checkoutForm>submitOrder()> response: \", response);\n\n    if (!response.ok) {\n      setError(response.statusText);\n      console.log(\"SUCCESS\");\n    } // OTHER stripe methods you can use depending on app\n    // // or createPaymentMethod - https://stripe.com/docs/js/payment_intents/create_payment_method\n    // stripe.createPaymentMethod({\n    //   type: \"card\",\n    //   card: cardElement,\n    // });\n    // // or confirmCardPayment - https://stripe.com/docs/js/payment_intents/confirm_card_payment\n    // stripe.confirmCardPayment(paymentIntentClientSecret, {\n    //   payment_method: {\n    //     card: cardElement,\n    //   },\n    // });\n\n  }\n\n  return __jsx(\"div\", {\n    className: \"jsx-1630660198\" + \" \" + \"paper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, __jsx(\"h5\", {\n    className: \"jsx-1630660198\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, \"Your information:\"), __jsx(\"hr\", {\n    className: \"jsx-1630660198\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }), __jsx(FormGroup, {\n    style: {\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: {\n      flex: \"0.90\",\n      marginRight: 10\n    },\n    className: \"jsx-1630660198\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, \"Address\"), __jsx(Input, {\n    name: \"address\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }))), __jsx(FormGroup, {\n    style: {\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: {\n      flex: \"0.65\",\n      marginRight: \"6%\"\n    },\n    className: \"jsx-1630660198\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, \"City\"), __jsx(Input, {\n    name: \"city\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  })), __jsx(\"div\", {\n    style: {\n      flex: \"0.25\",\n      marginRight: 0\n    },\n    className: \"jsx-1630660198\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, \"State\"), __jsx(Input, {\n    name: \"state\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }))), __jsx(CardSection, {\n    data: data,\n    stripeError: error,\n    submitOrder: submitOrder,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }), __jsx(_JSXStyle, {\n    id: \"1630660198\",\n    __self: this\n  }, \".paper{border:1px solid lightgray;box-shadow:0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 2px 1px -1px rgba(0,0,0,0.12);height:550px;padding:30px;background:#fff;border-radius:6px;margin-top:90px;}.form-half{-webkit-flex:0.5;-ms-flex:0.5;flex:0.5;}*{box-sizing:border-box;}body,html{background-color:#f6f9fc;font-size:18px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;}h1{color:#32325d;font-weight:400;line-height:50px;font-size:40px;margin:20px 0;padding:0;}.Checkout{margin:0 auto;max-width:800px;box-sizing:border-box;padding:0 5px;}label{color:#6b7c93;font-weight:300;-webkit-letter-spacing:0.025em;-moz-letter-spacing:0.025em;-ms-letter-spacing:0.025em;letter-spacing:0.025em;}button{white-space:nowrap;border:0;outline:0;display:inline-block;height:40px;line-height:40px;padding:0 14px;box-shadow:0 4px 6px rgba(50,50,93,0.11), 0 1px 3px rgba(0,0,0,0.08);color:#fff;border-radius:4px;font-size:15px;font-weight:600;text-transform:uppercase;-webkit-letter-spacing:0.025em;-moz-letter-spacing:0.025em;-ms-letter-spacing:0.025em;letter-spacing:0.025em;background-color:#6772e5;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:all 150ms ease;-webkit-transition:all 150ms ease;transition:all 150ms ease;margin-top:10px;}form{margin-bottom:40px;padding-bottom:40px;border-bottom:3px solid #e6ebf1;}button:hover{color:#fff;cursor:pointer;background-color:#7795f8;-webkit-transform:translateY(-1px);-ms-transform:translateY(-1px);transform:translateY(-1px);box-shadow:0 7px 14px rgba(50,50,93,0.1), 0 3px 6px rgba(0,0,0,0.08);}input,.StripeElement{display:block;background-color:#f8f9fa !important;margin:10px 0 20px 0;max-width:500px;padding:10px 14px;font-size:1em;font-family:\\\"Source Code Pro\\\",monospace;box-shadow:rgba(50,50,93,0.14902) 0px 1px 3px, rgba(0,0,0,0.0196078) 0px 1px 0px;border:0;outline:0;border-radius:4px;background:white;}input::-webkit-input-placeholder{color:#aab7c4;}input::-moz-placeholder{color:#aab7c4;}input:-ms-input-placeholder{color:#aab7c4;}input::placeholder{color:#aab7c4;}input:focus,.StripeElement--focus{box-shadow:rgba(50,50,93,0.109804) 0px 4px 6px, rgba(0,0,0,0.0784314) 0px 1px 3px;-webkit-transition:all 150ms ease;-webkit-transition:all 150ms ease;transition:all 150ms ease;}.StripeElement.IdealBankElement,.StripeElement.PaymentRequestButton{padding:0;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcUm9kbmV5XFxtaXRYUHJvXFxNRVJOMjAyMS0wMVxcdzI4XFwyOC45X0ctUWxcXGNvbXBvbmVudHNcXGNoZWNrb3V0Rm9ybS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFpSFMsQUFHd0MsQUFXbEIsQUFHYSxBQUlHLEFBS1gsQUFRQSxBQU1BLEFBS0ssQUFzQkEsQUFLUixBQVNHLEFBZUEsQUFLd0IsQUFNNUIsVUFDWixDQW5DaUIsR0E5Q0MsQUFRQSxBQU1BLEFBeUNvQixBQWV0QyxLQW5EVyxBQXNCVyxHQWxEdEIsR0FJaUIsQ0FvRFUsQ0FwRWEsQ0F5QzVCLEVBbkJPLEFBUUssQUFNQyxRQU1GLENBakN2QixBQXNEa0MsQ0E5Q3lCLE9BTTFDLEdBc0RNLENBUk0sQ0F0Q2IsT0FZRixHQW5CRSxJQVFoQixLQVltQixBQW9CbkIsQUFja0IsS0FyRE4sTUF1RXdCLElBdEVwQyxDQXFEb0IsQ0FsQ0gsTUEzQmpCLFNBNkJpQyxFQWlDakIsV0FpQlksR0FoQmUsb0JBaEY1QixBQW9DZixLQWtDaUMsUUFyRWxCLE9BaUZ5QixNQWhGdEIsT0E2Q0wsSUFrRGIsS0E5Rm9CLEVBNkNBLGdCQTVDRixFQTZDRCxZQXNCakIsRUFsRUEsQ0E2Q2tCLGdCQUNTLFFBZ0NoQixTQUNDLFFBaENhLEVBaUNMLGtCQUNELGlCQUNuQix3RUFsQzJCLHlCQUNKLGtEQUNhLGtDQUNSLDREQUNWLGdCQUNsQiIsImZpbGUiOiJDOlxcVXNlcnNcXFJvZG5leVxcbWl0WFByb1xcTUVSTjIwMjEtMDFcXHcyOFxcMjguOV9HLVFsXFxjb21wb25lbnRzXFxjaGVja291dEZvcm0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IEZvcm1Hcm91cCwgTGFiZWwsIElucHV0IH0gZnJvbSBcInJlYWN0c3RyYXBcIjtcclxuaW1wb3J0IGZldGNoIGZyb20gXCJpc29tb3JwaGljLWZldGNoXCI7XHJcbmltcG9ydCB7IENhcmRFbGVtZW50LCB1c2VTdHJpcGUsIHVzZUVsZW1lbnRzIH0gZnJvbSBcIkBzdHJpcGUvcmVhY3Qtc3RyaXBlLWpzXCI7XHJcbmltcG9ydCBDYXJkU2VjdGlvbiBmcm9tIFwiLi9jYXJkU2VjdGlvblwiO1xyXG5pbXBvcnQgQXBwQ29udGV4dCBmcm9tIFwiLi9jb250ZXh0XCI7XHJcbmltcG9ydCBDb29raWVzIGZyb20gXCJqcy1jb29raWVcIjtcclxuXHJcbmZ1bmN0aW9uIENoZWNrb3V0Rm9ybSgpIHtcclxuICBjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSB1c2VTdGF0ZSh7XHJcbiAgICBhZGRyZXNzOiBcIlwiLFxyXG4gICAgY2l0eTogXCJcIixcclxuICAgIHN0YXRlOiBcIlwiLFxyXG4gICAgc3RyaXBlX2lkOiBcIlwiLFxyXG4gIH0pO1xyXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoXCJcIik7XHJcbiAgY29uc3Qgc3RyaXBlID0gdXNlU3RyaXBlKCk7XHJcbiAgY29uc3QgZWxlbWVudHMgPSB1c2VFbGVtZW50cygpO1xyXG4gIGNvbnN0IGFwcENvbnRleHQgPSB1c2VDb250ZXh0KEFwcENvbnRleHQpO1xyXG5cclxuICBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XHJcbiAgICAvLyBzZXQgdGhlIGtleSA9IHRvIHRoZSBuYW1lIHByb3BlcnR5IGVxdWFsIHRvIHRoZSB2YWx1ZSB0eXBlZFxyXG4gICAgY29uc3QgdXBkYXRlSXRlbSA9IChkYXRhW2UudGFyZ2V0Lm5hbWVdID0gZS50YXJnZXQudmFsdWUpO1xyXG4gICAgLy8gdXBkYXRlIHRoZSBzdGF0ZSBkYXRhIG9iamVjdFxyXG4gICAgc2V0RGF0YSh7IC4uLmRhdGEsIHVwZGF0ZUl0ZW0gfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBzdWJtaXRPcmRlcigpIHtcclxuICAgIC8vIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgLy8gLy8gVXNlIGVsZW1lbnRzLmdldEVsZW1lbnQgdG8gZ2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBtb3VudGVkIEVsZW1lbnQuXHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGVsZW1lbnRzLmdldEVsZW1lbnQoQ2FyZEVsZW1lbnQpO1xyXG5cclxuICAgIC8vIC8vIFBhc3MgdGhlIEVsZW1lbnQgZGlyZWN0bHkgdG8gb3RoZXIgU3RyaXBlLmpzIG1ldGhvZHM6XHJcbiAgICAvLyAvLyBlLmcuIGNyZWF0ZVRva2VuIC0gaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvdG9rZW5zX3NvdXJjZXMvY3JlYXRlX3Rva2VuP3R5cGU9Y2FyZEVsZW1lbnRcclxuICAgIC8vIGdldCB0b2tlbiBiYWNrIGZyb20gc3RyaXBlIHRvIHByb2Nlc3MgY3JlZGl0IGNhcmRcclxuICAgIGNvbnN0IEFQSV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8IFwiaHR0cDovL2xvY2FsaG9zdDoxMzM3XCI7XHJcblxyXG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCBzdHJpcGUuY3JlYXRlVG9rZW4oY2FyZEVsZW1lbnQpO1xyXG4gICAgY29uc29sZS5sb2coXCJjaGVja291dEZvcm0+c3VibWl0T3JkZXIoKT4gdG9rZW46IFwiLCB0b2tlbik7XHJcblxyXG4gICAgY29uc3QgdXNlclRva2VuID0gQ29va2llcy5nZXQoXCJ0b2tlblwiKTtcclxuICAgIGNvbnNvbGUubG9nKFwiY2hlY2tvdXRGb3JtPnN1Ym1pdE9yZGVyKCk+IHVzZXJUb2tlbjogXCIsIHVzZXJUb2tlbik7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJjaGVja291dEZvcm0+c3VibWl0T3JkZXIoKT4gYm9keTogXCIsIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgYW1vdW50OiBOdW1iZXIoTWF0aC5yb3VuZChhcHBDb250ZXh0LmNhcnQudG90YWwgKyBcImUyXCIpICsgXCJlLTJcIiksXHJcbiAgICAgIGRpc2hlczogYXBwQ29udGV4dC5jYXJ0Lml0ZW1zLFxyXG4gICAgICBhZGRyZXNzOiBkYXRhLmFkZHJlc3MsXHJcbiAgICAgIGNpdHk6IGRhdGEuY2l0eSxcclxuICAgICAgc3RhdGU6IGRhdGEuc3RhdGUsXHJcbiAgICAgIHRva2VuOiB0b2tlbi50b2tlbi5pZCxcclxuICAgIH0pKTtcclxuXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9VUkx9L29yZGVyc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdXNlclRva2VuICYmIHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3VzZXJUb2tlbn1gIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhbW91bnQ6IE51bWJlcihNYXRoLnJvdW5kKGFwcENvbnRleHQuY2FydC50b3RhbCArIFwiZTJcIikgKyBcImUtMlwiKSxcclxuICAgICAgICBkaXNoZXM6IGFwcENvbnRleHQuY2FydC5pdGVtcyxcclxuICAgICAgICBhZGRyZXNzOiBkYXRhLmFkZHJlc3MsXHJcbiAgICAgICAgY2l0eTogZGF0YS5jaXR5LFxyXG4gICAgICAgIHN0YXRlOiBkYXRhLnN0YXRlLFxyXG4gICAgICAgIHRva2VuOiB0b2tlbi50b2tlbi5pZCxcclxuICAgICAgfSksXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrb3V0Rm9ybT5zdWJtaXRPcmRlcigpPiByZXNwb25zZTogXCIsIHJlc3BvbnNlKTtcclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIHNldEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcIlNVQ0NFU1NcIilcclxuICAgIH1cclxuXHJcbiAgICAvLyBPVEhFUiBzdHJpcGUgbWV0aG9kcyB5b3UgY2FuIHVzZSBkZXBlbmRpbmcgb24gYXBwXHJcbiAgICAvLyAvLyBvciBjcmVhdGVQYXltZW50TWV0aG9kIC0gaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvcGF5bWVudF9pbnRlbnRzL2NyZWF0ZV9wYXltZW50X21ldGhvZFxyXG4gICAgLy8gc3RyaXBlLmNyZWF0ZVBheW1lbnRNZXRob2Qoe1xyXG4gICAgLy8gICB0eXBlOiBcImNhcmRcIixcclxuICAgIC8vICAgY2FyZDogY2FyZEVsZW1lbnQsXHJcbiAgICAvLyB9KTtcclxuXHJcbiAgICAvLyAvLyBvciBjb25maXJtQ2FyZFBheW1lbnQgLSBodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9wYXltZW50X2ludGVudHMvY29uZmlybV9jYXJkX3BheW1lbnRcclxuICAgIC8vIHN0cmlwZS5jb25maXJtQ2FyZFBheW1lbnQocGF5bWVudEludGVudENsaWVudFNlY3JldCwge1xyXG4gICAgLy8gICBwYXltZW50X21ldGhvZDoge1xyXG4gICAgLy8gICAgIGNhcmQ6IGNhcmRFbGVtZW50LFxyXG4gICAgLy8gICB9LFxyXG4gICAgLy8gfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYXBlclwiPlxyXG4gICAgICA8aDU+WW91ciBpbmZvcm1hdGlvbjo8L2g1PlxyXG4gICAgICA8aHIgLz5cclxuICAgICAgPEZvcm1Hcm91cCBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiB9fT5cclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsZXg6IFwiMC45MFwiLCBtYXJnaW5SaWdodDogMTAgfX0+XHJcbiAgICAgICAgICA8TGFiZWw+QWRkcmVzczwvTGFiZWw+XHJcbiAgICAgICAgICA8SW5wdXQgbmFtZT1cImFkZHJlc3NcIiBvbkNoYW5nZT17b25DaGFuZ2V9IC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvRm9ybUdyb3VwPlxyXG4gICAgICA8Rm9ybUdyb3VwIHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiIH19PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogXCIwLjY1XCIsIG1hcmdpblJpZ2h0OiBcIjYlXCIgfX0+XHJcbiAgICAgICAgICA8TGFiZWw+Q2l0eTwvTGFiZWw+XHJcbiAgICAgICAgICA8SW5wdXQgbmFtZT1cImNpdHlcIiBvbkNoYW5nZT17b25DaGFuZ2V9IC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiBcIjAuMjVcIiwgbWFyZ2luUmlnaHQ6IDAgfX0+XHJcbiAgICAgICAgICA8TGFiZWw+U3RhdGU8L0xhYmVsPlxyXG4gICAgICAgICAgPElucHV0IG5hbWU9XCJzdGF0ZVwiIG9uQ2hhbmdlPXtvbkNoYW5nZX0gLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9Gb3JtR3JvdXA+XHJcblxyXG4gICAgICA8Q2FyZFNlY3Rpb24gZGF0YT17ZGF0YX0gc3RyaXBlRXJyb3I9e2Vycm9yfSBzdWJtaXRPcmRlcj17c3VibWl0T3JkZXJ9IC8+XHJcblxyXG4gICAgICA8c3R5bGUganN4IGdsb2JhbD5cclxuICAgICAgICB7YFxyXG4gICAgICAgICAgLnBhcGVyIHtcclxuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgbGlnaHRncmF5O1xyXG4gICAgICAgICAgICBib3gtc2hhZG93OiAwcHggMXB4IDNweCAwcHggcmdiYSgwLCAwLCAwLCAwLjIpLFxyXG4gICAgICAgICAgICAgIDBweCAxcHggMXB4IDBweCByZ2JhKDAsIDAsIDAsIDAuMTQpLFxyXG4gICAgICAgICAgICAgIDBweCAycHggMXB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjEyKTtcclxuICAgICAgICAgICAgaGVpZ2h0OiA1NTBweDtcclxuICAgICAgICAgICAgcGFkZGluZzogMzBweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG4gICAgICAgICAgICBtYXJnaW4tdG9wOiA5MHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmZvcm0taGFsZiB7XHJcbiAgICAgICAgICAgIGZsZXg6IDAuNTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICoge1xyXG4gICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYm9keSxcclxuICAgICAgICAgIGh0bWwge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjZmOWZjO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EgTmV1ZSwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGgxIHtcclxuICAgICAgICAgICAgY29sb3I6ICMzMjMyNWQ7XHJcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiA1MHB4O1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDQwcHg7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMjBweCAwO1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLkNoZWNrb3V0IHtcclxuICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICAgICAgICAgIG1heC13aWR0aDogODAwcHg7XHJcbiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDAgNXB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbGFiZWwge1xyXG4gICAgICAgICAgICBjb2xvcjogIzZiN2M5MztcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDMwMDtcclxuICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMDI1ZW07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBidXR0b24ge1xyXG4gICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gICAgICAgICAgICBib3JkZXI6IDA7XHJcbiAgICAgICAgICAgIG91dGxpbmU6IDA7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgICAgICAgICBsaW5lLWhlaWdodDogNDBweDtcclxuICAgICAgICAgICAgcGFkZGluZzogMCAxNHB4O1xyXG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSg1MCwgNTAsIDkzLCAwLjExKSxcclxuICAgICAgICAgICAgICAwIDFweCAzcHggcmdiYSgwLCAwLCAwLCAwLjA4KTtcclxuICAgICAgICAgICAgY29sb3I6ICNmZmY7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxNXB4O1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgICAgICAgICBsZXR0ZXItc3BhY2luZzogMC4wMjVlbTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzY3NzJlNTtcclxuICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAxNTBtcyBlYXNlO1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMTUwbXMgZWFzZTtcclxuICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGZvcm0ge1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA0MHB4O1xyXG4gICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogNDBweDtcclxuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICNlNmViZjE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBidXR0b246aG92ZXIge1xyXG4gICAgICAgICAgICBjb2xvcjogI2ZmZjtcclxuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNzc5NWY4O1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7XHJcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgN3B4IDE0cHggcmdiYSg1MCwgNTAsIDkzLCAwLjEpLFxyXG4gICAgICAgICAgICAgIDAgM3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuMDgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaW5wdXQsXHJcbiAgICAgICAgICAuU3RyaXBlRWxlbWVudCB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMTBweCAwIDIwcHggMDtcclxuICAgICAgICAgICAgbWF4LXdpZHRoOiA1MDBweDtcclxuICAgICAgICAgICAgcGFkZGluZzogMTBweCAxNHB4O1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDFlbTtcclxuICAgICAgICAgICAgZm9udC1mYW1pbHk6IFwiU291cmNlIENvZGUgUHJvXCIsIG1vbm9zcGFjZTtcclxuICAgICAgICAgICAgYm94LXNoYWRvdzogcmdiYSg1MCwgNTAsIDkzLCAwLjE0OTAyKSAwcHggMXB4IDNweCxcclxuICAgICAgICAgICAgICByZ2JhKDAsIDAsIDAsIDAuMDE5NjA3OCkgMHB4IDFweCAwcHg7XHJcbiAgICAgICAgICAgIGJvcmRlcjogMDtcclxuICAgICAgICAgICAgb3V0bGluZTogMDtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlucHV0OjpwbGFjZWhvbGRlciB7XHJcbiAgICAgICAgICAgIGNvbG9yOiAjYWFiN2M0O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaW5wdXQ6Zm9jdXMsXHJcbiAgICAgICAgICAuU3RyaXBlRWxlbWVudC0tZm9jdXMge1xyXG4gICAgICAgICAgICBib3gtc2hhZG93OiByZ2JhKDUwLCA1MCwgOTMsIDAuMTA5ODA0KSAwcHggNHB4IDZweCxcclxuICAgICAgICAgICAgICByZ2JhKDAsIDAsIDAsIDAuMDc4NDMxNCkgMHB4IDFweCAzcHg7XHJcbiAgICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDE1MG1zIGVhc2U7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAxNTBtcyBlYXNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLlN0cmlwZUVsZW1lbnQuSWRlYWxCYW5rRWxlbWVudCxcclxuICAgICAgICAgIC5TdHJpcGVFbGVtZW50LlBheW1lbnRSZXF1ZXN0QnV0dG9uIHtcclxuICAgICAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICBgfVxyXG4gICAgICA8L3N0eWxlPlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5leHBvcnQgZGVmYXVsdCBDaGVja291dEZvcm07XHJcbiJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Rodney\\\\\\\\mitXPro\\\\\\\\MERN2021-01\\\\\\\\w28\\\\\\\\28.9_G-Ql\\\\\\\\components\\\\\\\\checkoutForm.js */\"));\n}\n\nexport default CheckoutForm;","map":{"version":3,"sources":["C:/Users/Rodney/mitXPro/MERN2021-01/w28/28.9_G-Ql/components/checkoutForm.js"],"names":["React","useState","useContext","FormGroup","Label","Input","fetch","CardElement","useStripe","useElements","CardSection","AppContext","Cookies","CheckoutForm","data","setData","address","city","state","stripe_id","error","setError","stripe","elements","appContext","onChange","e","updateItem","target","name","value","submitOrder","cardElement","getElement","API_URL","process","env","NEXT_PUBLIC_API_URL","token","createToken","console","log","userToken","get","JSON","stringify","amount","Number","Math","round","cart","total","dishes","items","id","response","method","headers","Authorization","body","ok","statusText","display","flex","marginRight"],"mappings":"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","sourcesContent":["\r\nimport React, { useState, useContext } from \"react\";\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\nimport fetch from \"isomorphic-fetch\";\r\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\nimport CardSection from \"./cardSection\";\r\nimport AppContext from \"./context\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nfunction CheckoutForm() {\r\n  const [data, setData] = useState({\r\n    address: \"\",\r\n    city: \"\",\r\n    state: \"\",\r\n    stripe_id: \"\",\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const appContext = useContext(AppContext);\r\n\r\n  function onChange(e) {\r\n    // set the key = to the name property equal to the value typed\r\n    const updateItem = (data[e.target.name] = e.target.value);\r\n    // update the state data object\r\n    setData({ ...data, updateItem });\r\n  }\r\n\r\n  async function submitOrder() {\r\n    // event.preventDefault();\r\n\r\n    // // Use elements.getElement to get a reference to the mounted Element.\r\n    const cardElement = elements.getElement(CardElement);\r\n\r\n    // // Pass the Element directly to other Stripe.js methods:\r\n    // // e.g. createToken - https://stripe.com/docs/js/tokens_sources/create_token?type=cardElement\r\n    // get token back from stripe to process credit card\r\n    const API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:1337\";\r\n\r\n    const token = await stripe.createToken(cardElement);\r\n    console.log(\"checkoutForm>submitOrder()> token: \", token);\r\n\r\n    const userToken = Cookies.get(\"token\");\r\n    console.log(\"checkoutForm>submitOrder()> userToken: \", userToken);\r\n\r\n    console.log(\"checkoutForm>submitOrder()> body: \", JSON.stringify({\r\n      amount: Number(Math.round(appContext.cart.total + \"e2\") + \"e-2\"),\r\n      dishes: appContext.cart.items,\r\n      address: data.address,\r\n      city: data.city,\r\n      state: data.state,\r\n      token: token.token.id,\r\n    }));\r\n\r\n    const response = await fetch(`${API_URL}/orders`, {\r\n      method: \"POST\",\r\n      headers: userToken && { Authorization: `Bearer ${userToken}` },\r\n      body: JSON.stringify({\r\n        amount: Number(Math.round(appContext.cart.total + \"e2\") + \"e-2\"),\r\n        dishes: appContext.cart.items,\r\n        address: data.address,\r\n        city: data.city,\r\n        state: data.state,\r\n        token: token.token.id,\r\n      }),\r\n    });\r\n\r\n    console.log(\"checkoutForm>submitOrder()> response: \", response);\r\n\r\n    if (!response.ok) {\r\n      setError(response.statusText);\r\n      console.log(\"SUCCESS\")\r\n    }\r\n\r\n    // OTHER stripe methods you can use depending on app\r\n    // // or createPaymentMethod - https://stripe.com/docs/js/payment_intents/create_payment_method\r\n    // stripe.createPaymentMethod({\r\n    //   type: \"card\",\r\n    //   card: cardElement,\r\n    // });\r\n\r\n    // // or confirmCardPayment - https://stripe.com/docs/js/payment_intents/confirm_card_payment\r\n    // stripe.confirmCardPayment(paymentIntentClientSecret, {\r\n    //   payment_method: {\r\n    //     card: cardElement,\r\n    //   },\r\n    // });\r\n  }\r\n\r\n  return (\r\n    <div className=\"paper\">\r\n      <h5>Your information:</h5>\r\n      <hr />\r\n      <FormGroup style={{ display: \"flex\" }}>\r\n        <div style={{ flex: \"0.90\", marginRight: 10 }}>\r\n          <Label>Address</Label>\r\n          <Input name=\"address\" onChange={onChange} />\r\n        </div>\r\n      </FormGroup>\r\n      <FormGroup style={{ display: \"flex\" }}>\r\n        <div style={{ flex: \"0.65\", marginRight: \"6%\" }}>\r\n          <Label>City</Label>\r\n          <Input name=\"city\" onChange={onChange} />\r\n        </div>\r\n        <div style={{ flex: \"0.25\", marginRight: 0 }}>\r\n          <Label>State</Label>\r\n          <Input name=\"state\" onChange={onChange} />\r\n        </div>\r\n      </FormGroup>\r\n\r\n      <CardSection data={data} stripeError={error} submitOrder={submitOrder} />\r\n\r\n      <style jsx global>\r\n        {`\r\n          .paper {\r\n            border: 1px solid lightgray;\r\n            box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n              0px 1px 1px 0px rgba(0, 0, 0, 0.14),\r\n              0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n            height: 550px;\r\n            padding: 30px;\r\n            background: #fff;\r\n            border-radius: 6px;\r\n            margin-top: 90px;\r\n          }\r\n          .form-half {\r\n            flex: 0.5;\r\n          }\r\n          * {\r\n            box-sizing: border-box;\r\n          }\r\n          body,\r\n          html {\r\n            background-color: #f6f9fc;\r\n            font-size: 18px;\r\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\r\n          }\r\n          h1 {\r\n            color: #32325d;\r\n            font-weight: 400;\r\n            line-height: 50px;\r\n            font-size: 40px;\r\n            margin: 20px 0;\r\n            padding: 0;\r\n          }\r\n          .Checkout {\r\n            margin: 0 auto;\r\n            max-width: 800px;\r\n            box-sizing: border-box;\r\n            padding: 0 5px;\r\n          }\r\n          label {\r\n            color: #6b7c93;\r\n            font-weight: 300;\r\n            letter-spacing: 0.025em;\r\n          }\r\n          button {\r\n            white-space: nowrap;\r\n            border: 0;\r\n            outline: 0;\r\n            display: inline-block;\r\n            height: 40px;\r\n            line-height: 40px;\r\n            padding: 0 14px;\r\n            box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11),\r\n              0 1px 3px rgba(0, 0, 0, 0.08);\r\n            color: #fff;\r\n            border-radius: 4px;\r\n            font-size: 15px;\r\n            font-weight: 600;\r\n            text-transform: uppercase;\r\n            letter-spacing: 0.025em;\r\n            background-color: #6772e5;\r\n            text-decoration: none;\r\n            -webkit-transition: all 150ms ease;\r\n            transition: all 150ms ease;\r\n            margin-top: 10px;\r\n          }\r\n          form {\r\n            margin-bottom: 40px;\r\n            padding-bottom: 40px;\r\n            border-bottom: 3px solid #e6ebf1;\r\n          }\r\n          button:hover {\r\n            color: #fff;\r\n            cursor: pointer;\r\n            background-color: #7795f8;\r\n            transform: translateY(-1px);\r\n            box-shadow: 0 7px 14px rgba(50, 50, 93, 0.1),\r\n              0 3px 6px rgba(0, 0, 0, 0.08);\r\n          }\r\n          input,\r\n          .StripeElement {\r\n            display: block;\r\n            background-color: #f8f9fa !important;\r\n            margin: 10px 0 20px 0;\r\n            max-width: 500px;\r\n            padding: 10px 14px;\r\n            font-size: 1em;\r\n            font-family: \"Source Code Pro\", monospace;\r\n            box-shadow: rgba(50, 50, 93, 0.14902) 0px 1px 3px,\r\n              rgba(0, 0, 0, 0.0196078) 0px 1px 0px;\r\n            border: 0;\r\n            outline: 0;\r\n            border-radius: 4px;\r\n            background: white;\r\n          }\r\n          input::placeholder {\r\n            color: #aab7c4;\r\n          }\r\n          input:focus,\r\n          .StripeElement--focus {\r\n            box-shadow: rgba(50, 50, 93, 0.109804) 0px 4px 6px,\r\n              rgba(0, 0, 0, 0.0784314) 0px 1px 3px;\r\n            -webkit-transition: all 150ms ease;\r\n            transition: all 150ms ease;\r\n          }\r\n          .StripeElement.IdealBankElement,\r\n          .StripeElement.PaymentRequestButton {\r\n            padding: 0;\r\n          }\r\n        `}\r\n      </style>\r\n    </div>\r\n  );\r\n}\r\nexport default CheckoutForm;\r\n"]},"metadata":{},"sourceType":"module"}